<!DOCTYPE html>
<html lang="en">
<!-- Beautiful Jekyll 6.0.1 | Copyright Dean Attali 2023 -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

  

  <title>Writing a minimalist Android client, part 1</title>

  
  <meta name="author" content="Dielson Sales">
  

  <meta name="description" content="So I was reading recently a nice article called “The small web is beautiful” which got me inspired to take this concept to Android apps. For a long time already, I’ve used Boost to read posts on Reddit and I wanted to build something similar that would make reading comments...">

  

  

  
  <link rel="alternate" type="application/rss+xml" title="Por Fazer" href="https://dielsonsales.github.io/feed.xml">
  

  

  

  

  


  
    
      
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    
      
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">


    
  

  
    
      <link rel="stylesheet" href="/assets/css/bootstrap-social.css">
    
      <link rel="stylesheet" href="/assets/css/beautifuljekyll.css">
    
  

  

  
  
  

  

  
  <meta property="og:site_name" content="Por Fazer">
  <meta property="og:title" content="Writing a minimalist Android client, part 1">
  <meta property="og:description" content="So I was reading recently a nice article called “The small web is beautiful” which got me inspired to take this concept to Android apps. For a long time already, I’ve used Boost to read posts on Reddit and I wanted to build something similar that would make reading comments...">

  
  <meta property="og:image" content="https://dielsonsales.github.io/assets/img/avatar-icon.jpg">
  

  
  <meta property="og:type" content="article">
  <meta property="og:article:author" content="Dielson Sales">
  <meta property="og:article:published_time" content="2021-03-07T15:35:00-03:00">
  <meta property="og:url" content="https://dielsonsales.github.io/2021-03-07-minimalist-android-app/">
  <link rel="canonical" href="https://dielsonsales.github.io/2021-03-07-minimalist-android-app/">
  

  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:site" content="@">
  <meta name="twitter:creator" content="@">

  <meta property="twitter:title" content="Writing a minimalist Android client, part 1">
  <meta property="twitter:description" content="So I was reading recently a nice article called “The small web is beautiful” which got me inspired to take this concept to Android apps. For a long time already, I’ve used Boost to read posts on Reddit and I wanted to build something similar that would make reading comments...">

  
  <meta name="twitter:image" content="https://dielsonsales.github.io/assets/img/avatar-icon.jpg">
  

  


  

  

</head>


<body>

  


  <nav class="navbar navbar-expand-xl navbar-light fixed-top navbar-custom top-nav-regular"><a class="navbar-brand" href="https://dielsonsales.github.io/">Por Fazer</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="main-navbar">
    <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/aboutme">About Me</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources</a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="/favorite-articles">Favorite articles</a>
            </div>
          </li>
        
        <li class="nav-item">
          <a class="nav-link" id="nav-search-link" href="#" title="Search">
            <span id="nav-search-icon" class="fa fa-search"></span>
            <span id="nav-search-text">Search</span>
          </a>
        </li></ul>
  </div>

  

  
    <div class="avatar-container">
      <div class="avatar-img-border">
        <a href="https://dielsonsales.github.io/">
          <img alt="Navigation bar avatar" class="avatar-img" src="/assets/img/avatar-icon.jpg" />
        </a>
      </div>
    </div>
  

</nav>



<div id="beautifuljekyll-search-overlay">

  <div id="nav-search-exit" title="Exit search">✕</div>
  <input type="text" id="nav-search-input" placeholder="Search">
  <ul id="search-results-container"></ul>
  
  <script src="https://unpkg.com/simple-jekyll-search@latest/dest/simple-jekyll-search.min.js"></script>
  <script>
    var searchjson = '[ \
       \
        { \
          "title"    : "Starting a new blog", \
          "desc"     : "Starting a new blog", \
          "category" : "learningwriting", \
          "url"      : "/2023-05-11-starting-a-new-blog/", \
          "date"     : "May 11, 2023" \
        }, \
       \
        { \
          "title"    : "My List of Interesting and Important Git Configurations", \
          "desc"     : "My List of Interesting and Important Git Configurations", \
          "category" : "gitsoftware-development", \
          "url"      : "/2022-12-22-list-git-configs/", \
          "date"     : "December 22, 2022" \
        }, \
       \
        { \
          "title"    : "Installing an Oracle Database for the first time", \
          "desc"     : "Installing an Oracle Database for the first time", \
          "category" : "oracledatabase", \
          "url"      : "/2022-12-10-installing-oracle-database-for-the-first-time/", \
          "date"     : "December 10, 2022" \
        }, \
       \
        { \
          "title"    : "Writing a minimalist Android client, part 1", \
          "desc"     : "Writing a minimalist Android client, part 1", \
          "category" : "androidsoftware-developmentminimalism", \
          "url"      : "/2021-03-07-minimalist-android-app/", \
          "date"     : "March  7, 2021" \
        }, \
       \
        { \
          "title"    : "Sample blog post", \
          "desc"     : "Sample blog post", \
          "category" : "test", \
          "url"      : "/2020-02-28-test-markdown/", \
          "date"     : "February 28, 2020" \
        }, \
       \
        { \
          "title"    : "Flake it till you make it", \
          "desc"     : "Flake it till you make it", \
          "category" : "bookstest", \
          "url"      : "/2020-02-26-flake-it-till-you-make-it/", \
          "date"     : "February 26, 2020" \
        }, \
       \
       \
        { \
          "title"    : "About me", \
          "desc"     : "About me", \
          "category" : "page", \
          "url"      : "/aboutme/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "My personal list of great articles", \
          "desc"     : "My personal list of great articles", \
          "category" : "page", \
          "url"      : "/favorite-articles/", \
          "date"     : "March 17, 2021" \
        }, \
       \
        { \
          "title"    : "Por Fazer", \
          "desc"     : "Por Fazer", \
          "category" : "page", \
          "url"      : "/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Tag Index", \
          "desc"     : "Tag Index", \
          "category" : "page", \
          "url"      : "/tags/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Por Fazer", \
          "desc"     : "Por Fazer", \
          "category" : "page", \
          "url"      : "/page2/", \
          "date"     : "January 1, 1970" \
        } \
       \
    ]';
    searchjson = JSON.parse(searchjson);

    var sjs = SimpleJekyllSearch({
      searchInput: document.getElementById('nav-search-input'),
      resultsContainer: document.getElementById('search-results-container'),
      json: searchjson
    });
  </script>
</div>





  <!-- TODO this file has become a mess, refactor it -->







<header class="header-section ">

<div class="intro-header no-img">
  <div class="container-md">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
        <div class="post-heading">
          <h1>Writing a minimalist Android client, part 1</h1>
          

          
            <span class="post-meta">Posted on March 7, 2021</span>
            
            
          
        </div>
      </div>
    </div>
  </div>
</div>
</header>





<div class=" container-md ">
  <div class="row">
    <div class=" col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 ">

      

      

      <article role="main" class="blog-post">
        <p>So I was reading recently a nice article called “<a href="https://benhoyt.com/writings/the-small-web-is-beautiful/">The small web is beautiful</a>” which got me inspired to take this concept to Android apps. For a long time already, I’ve used <a href="https://play.google.com/store/apps/details?id=com.rubenmayayo.reddit&amp;hl=en&amp;gl=US">Boost</a> to read posts on Reddit and I wanted to build something similar that would make reading comments on Hacker News just as pleasant. So in this series of articles, I’ll show all the process I’ve used to create a simple Android app to browse Hacker News and read the comments. But I’ll be trying to make as small as possible, for as long as it’s reasonable to do so.</p>

<h1 id="bloated-apps-a-little-bit-of-context">Bloated apps: a little bit of context</h1>

<p>Android apps have suffered for a long time from the <a href="https://bandwidthblog.co.za/2020/12/27/android-fragmentation-2020/">fragmentation problem</a>, and to solve that Google has been gradually focusing on moving functionality from the Android APIs to their <a href="https://developer.android.com/topic/libraries/support-library">Support Library</a> (currently rebranded to Android Jetpack). If you don’t know what Android Jetpack is, here’s the description in Google’s <a href="https://developer.android.com/jetpack">official website</a>:</p>

<table>
  <tbody>
    <tr>
      <td>Jetpack is a suite of libraries to help developers follow best practices, reduce boilerplate code, and write code that works consistently across Android versions and devices so that developers can focus on the code they care about.</td>
    </tr>
  </tbody>
</table>

<p>So basically, the Support Libraries contained a lot of features back-ported to older versions of Android and made sure some features behaved the same way across different versions of Android. The new Jetpack libraries do the same, but also contain some extra stuff that aim to standardize the way most apps are built. The problem with this approach is that a lot of code gets embedded in the apps instead of using the already available functions in the Android system itself.</p>

<h1 id="starting-the-project">Starting the project</h1>

<p>When you first create an Android app on Android Studio, it automatically adds some Android Jetpack libraries in your app, but those libraries basically make your app too big for our concept of “tiny app”. I removed everything that’s not really necessary (including the standard icons) to see what it looks like after installed:</p>

<p><img src="/images/android-minimalism-01.png" alt="" class="mx-auto d-block" /></p>
<p style="color:gray; font-size:80%;" align="center">1.69MB! That’s not tiny for an app that only shows “Hello world” in the screen.</p>

<p>So for a start I wanted to know how small a modern Android app can be <em>without</em> any boilerplate or libraries. This would set our bar for future comparisons. For this purpose we’re going to start without any libraries or unnecessary dependencies, which means we’re going to ditch the whole Google’s libraries (at least for now…).</p>

<p>Running again we have:</p>

<p><img src="/images/android-minimalism-02.png" alt="" class="mx-auto d-block" /></p>
<p style="color:gray; font-size:80%;" align="center">Less than 33KB, that’s much better!</p>

<p>Although this size is good, we’d need to make a lot of sacrifices to code like this. One of the problems is that, without the Google libraries, we simply can’t use the <code class="language-plaintext highlighter-rouge">@Nullable</code> and <code class="language-plaintext highlighter-rouge">@NotNull</code> annotations in our code.</p>

<p><img src="/images/android-minimalism-03.png" alt="" class="mx-auto d-block" /></p>
<p style="color:gray; font-size:80%;" align="center">How can someone program Java without nullable?</p>

<p>Yeah, that’s pretty bad, but even with Proguard enabled I don’t want to use the Android Jetpack libraries unless I absolutely need them at some point.</p>

<h1 id="kotlin-to-the-rescue">Kotlin to the rescue?</h1>

<p>My first thought was to start building the app in Java because I was sure that adding the Kotlin runtime would also increase the app size too much. But as anything in programming goes like, testing is the most reliable way to check any hypothesis. I used Android Studio to configure Kotlin in the project and convert my MainActivity to a <code class="language-plaintext highlighter-rouge">.kt</code> file just to see what the app size would be:</p>

<p><img src="/images/android-minimalism-04.png" alt="" class="mx-auto d-block" /></p>
<p style="color:gray; font-size:80%;" align="center">94.21 KB! That’s a small price to pay for the benefits of the Kotlin language.</p>

<p>So it turns out that adding the Kotlin runtime doesn’t actually bloat the app a lot, as long as Proguard is activated and removing all unused code. The first and main benefit of using Kotlin is that I know which objects can be null or not without using Java annotations directly in my code.</p>

<p><img src="/images/android-minimalism-05.png" alt="" class="mx-auto d-block" /></p>
<p style="color:gray; font-size:80%;" align="center">Kotlin knows and enforces that savedInstanceState is a nullable Bundle.</p>

      </article>

      
        <div class="blog-tags">
          <span>Tags:</span>
          
            <a href="/tags#android">android</a>
          
            <a href="/tags#software-development">software-development</a>
          
            <a href="/tags#minimalism">minimalism</a>
          
        </div>
      

      

      
        <!-- Check if any share-links are active -->




<section id = "social-share-section">
  <span class="sr-only">Share: </span>

  
    <a href="https://twitter.com/intent/tweet?text=Writing+a+minimalist+Android+client%2C+part+1&url=https%3A%2F%2Fdielsonsales.github.io%2F2021-03-07-minimalist-android-app%2F"
      class="btn btn-social-icon btn-twitter" title="Share on Twitter">
      <span class="fab fa-fw fa-twitter" aria-hidden="true"></span>
      <span class="sr-only">Twitter</span>
    </a>
  

  
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdielsonsales.github.io%2F2021-03-07-minimalist-android-app%2F"
      class="btn btn-social-icon btn-facebook" title="Share on Facebook">
      <span class="fab fa-fw fa-facebook" aria-hidden="true"></span>
      <span class="sr-only">Facebook</span>
    </a>
  

  
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fdielsonsales.github.io%2F2021-03-07-minimalist-android-app%2F"
      class="btn btn-social-icon btn-linkedin" title="Share on LinkedIn">
      <span class="fab fa-fw fa-linkedin" aria-hidden="true"></span>
      <span class="sr-only">LinkedIn</span>
    </a>
  

  

  

</section>



      

      <ul class="pagination blog-pager">
        
        <li class="page-item previous">
          <a class="page-link" href="/2020-02-28-test-markdown/" data-toggle="tooltip" data-placement="top" title="Sample blog post">&larr; Previous Post</a>
        </li>
        
        
        <li class="page-item next">
          <a class="page-link" href="/2022-12-10-installing-oracle-database-for-the-first-time/" data-toggle="tooltip" data-placement="top" title="Installing an Oracle Database for the first time">Next Post &rarr;</a>
        </li>
        
      </ul>
      
  
  
  

  


  

  



    </div>
  </div>
</div>


  <footer>
  <div class="container-md beautiful-jekyll-footer">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
      
<ul class="list-inline text-center footer-links"><li class="list-inline-item">
    <a href="mailto:someone@example.com" title="Email me">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Email me</span>
   </a>
  </li><li class="list-inline-item">
    <a href="/feed.xml" title="RSS">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">RSS</span>
    </a>
  </li><li class="list-inline-item">
    <a href="https://github.com/dielsonsales" title="GitHub">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">GitHub</span>
   </a>
  </li></ul>

      
      <p class="copyright text-muted">
      
        Dielson Sales
        &nbsp;&bull;&nbsp;
      
      2023

      
        &nbsp;&bull;&nbsp;
        <span class="author-site">
          <a href="https://dielsonsales.github.io/">MyWebsite.com</a>
        </span>
      

      

      

      </p>
      <p class="theme-by text-muted">
        Powered by
        <a href="https://beautifuljekyll.com">Beautiful Jekyll</a>
      </p>
      </div>
    </div>
  </div>
</footer>


  
  
    
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>


  
    
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>


  
    
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


  



  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script src="/assets/js/beautifuljekyll.js"></script>
    
  









</body>
</html>
